<!-- Projects Section -->
<section id="projects">
    <h2>Projects</h2>

    <!-- NowJersey Project -->
    <div class="project">
        <h3><a href="https://nowjersey.onrender.com/" target="_blank">NowJersey</a></h3>
        <p>A marketplace for buying and selling sports jerseys.</p>
        <div class="project-gallery">
            <img src="./splash.png" alt="NowJersey Screenshot 1" onclick="openModal('nowjersey', 0)">
            <img src="./manage.png" alt="NowJersey Screenshot 2" onclick="openModal('nowjersey', 1)">
            <img src="./detail.png" alt="NowJersey Screenshot 3" onclick="openModal('nowjersey', 2)">
        </div>
    </div>

    <!-- NomNow Project -->
    <div class="project">
        <h3><a href="https://nomnow-qtk7.onrender.com" target="_blank">NomNow</a></h3>
        <p>Food delivery platform inspired by UberEats.</p>
        <div class="project-gallery">
            <img src="./restaurants.png" alt="NomNow Screenshot 1" onclick="openModal('nomnow', 0)">
            <img src="./menu-items.png" alt="NomNow Screenshot 2" onclick="openModal('nomnow', 1)">
            <img src="./past-orders.png" alt="NomNow Screenshot 3" onclick="openModal('nomnow', 2)">
        </div>
    </div>

    <!-- Lodging Project -->
    <div class="project">
        <h3><a href="https://lodging.onrender.com/" target="_blank">Lodging</a></h3>
        <p>An Airbnb-inspired booking platform.</p>
        <div class="project-gallery">
            <img src="./Screenshot1.png" alt="Lodging Screenshot 1" onclick="openModal('lodging', 0)">
            <img src="./Screenshot2.png" alt="Lodging Screenshot 2" onclick="openModal('lodging', 1)">
            <img src="./Screenshot3.png" alt="Lodging Screenshot 3" onclick="openModal('lodging', 2)">
        </div>
    </div>
</section>

<!-- Lightbox Modal -->
<div id="imageModal" class="modal">
    <span class="close" onclick="closeModal()">&times;</span>
    <img class="modal-content" id="modalImage">
    <div class="prev" onclick="changeImage(-1)">&#10094;</div>
    <div class="next" onclick="changeImage(1)">&#10095;</div>
</div>

<!-- CSS for Project Gallery & Modal -->
<style>
    .project {
        margin-bottom: 50px;
        text-align: center;
    }

    .project-gallery {
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 10px;
    }

    .project-gallery img {
        width: 250px;
        height: auto;
        border-radius: 10px;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease-in-out;
        cursor: pointer;
    }

    .project-gallery img:hover {
        transform: scale(1.05);
    }

    /* Modal Styles */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .modal-content {
        max-width: 80%;
        max-height: 80%;
        border-radius: 10px;
    }

    .close {
        position: absolute;
        top: 20px;
        right: 30px;
        font-size: 40px;
        color: white;
        cursor: pointer;
    }

    .prev, .next {
        position: absolute;
        top: 50%;
        font-size: 40px;
        color: white;
        cursor: pointer;
        transform: translateY(-50%);
        padding: 10px;
    }

    .prev {
        left: 10px;
    }

    .next {
        right: 10px;
    }
</style>

<!-- JavaScript for Lightbox -->
<script>
    const projectImages = {
        nowjersey: ["./splash.png", "./manage.png", "./detail.png"],
        nomnow: ["./restaurants.png", "./menu-items.png", "./past-orders.png"],
        lodging: ["./Screenshot1.png", "./Screenshot2.png", "./Screenshot3.png"]
    };

    let currentProject = "";
    let currentIndex = 0;

    function openModal(project, index) {
        currentProject = project;
        currentIndex = index;
        document.getElementById("modalImage").src = projectImages[project][index];
        document.getElementById("imageModal").style.display = "flex";
    }

    function closeModal() {
        document.getElementById("imageModal").style.display = "none";
    }

    function changeImage(direction) {
        currentIndex += direction;
        if (currentIndex < 0) {
            currentIndex = projectImages[currentProject].length - 1;
        } else if (currentIndex >= projectImages[currentProject].length) {
            currentIndex = 0;
        }
        document.getElementById("modalImage").src = projectImages[currentProject][currentIndex];
    }

    // Close modal on outside click
    window.onclick = function(event) {
        if (event.target.classList.contains("modal")) {
            closeModal();
        }
    }
</script>
